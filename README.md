# News_page
made at 20190919. Internet programming assignment. implement news page  
## 구성  
- 홈  
- 메뉴관리  
- 게시물 관리  

## 1. 홈페이지  
홈에 해당되는 페이지이다.   
게시물이 등록될 경우 홈페이지에서 확인 가능하다. 게시문의 내용은 100자까지만 표시된다.  
분류명1에서 버튼으로 분류명을 선택하면 분류명2가 콤보박스로 출력된다.  
분류명1과 분류명2가 일치한 게시물만 페이지에 표시된다.   
p4_main은 전체페이지를 나타낸다. sort1을 선택하면 sort2페이지가 나타나고 검색을 누르면 search에서 해당되는 게시물만 출력해준다.  
기사제목을 클릭하면 자세한 기사내용이 나온다.  
기사의 내용을 바꿀 수는 없고 p5_main 페이지는 p4_,main 게시물의 데이터를 가져와 readonly방식으로 출력해준다.  
## 2. 메뉴관리 페이지  
기사등록을 위한 카테고리를 추가,삭제,수정할 수 있다.  
왼쪽에는 대분류가 있다. 1차분류에서 찾기 버튼을 누르면 2차분류들이 table형식으로 나온다. 비고에서 삭제나 수정을 할 수 있다.  
**수정하기**  
수정을 누르면 코드와 분류1과 분류2가 나온다.   
코드는 변경할 수 없고 분류1과 분류2만 변경이 가능하다.   
아래의 수정하기를 누르면 수정이 되고 돌아가기를 누르면 수정되지않고 처음의 페이지로 돌아간다.  
**삭제하기**  
삭제를누르면‘삭제하시겠습니까?’라는 알림창이 뜬다.  
확인을 누르면 삭제가 되고 취소를 누르면 삭제가 되지 않는다.  
삭제해야 하는 메뉴에 게시물이 존재하는 경우, 게시물의 분류는 null이 된다.  
**추가하기**  
추가하기는 1차분류와 2차분류에 원하는 분류명을 쓰면 된다.  
1차 분류가 이미 있는 경우 2차분류만 기존에 있던 1차분류에 들어가고 1차분류가 새로운 이름일 경우 1차분류도 새로 데어터베이스에 저장된다.  
dl 페이지를 구현하기 위한 파일은 p1이다.  

여기서 p1_in은 맨 처음에 나타나는 페이지이다. 1차분류를 출력하고 새로운 분류값을 받는다.  
p1_in에서 찾기 버튼을 누르면 p1_findsort2로 이동한다.  
p1_findsort2에서는 p1_in에서 제시한 sort1을 기준으로 sort2들을 출력한다.  
  
비고에는 삭제하기와 수정하기가 있다.  
p1_modify는 선택된 1차분류와 2차분류를 출력하고 바뀐 sort1과 sort2를 받아서 p1_modify_do에 넘긴다.  
그러면 p1_modify_do는 데이터를 업데이트해준다.  
p1_delete는 선택된 데이터를 code를 받아 삭제한다.   
이때 만약 kate의 count(게시물수)가 0보다 크면 post에서 sort2가 같은 것을 찾아내 분류명을 null로 만들어준뒤 삭제한다.  
1차분류와 2차분류를 쓴 뒤 추가하기 버튼을 누르면 p1_save_add로 이동한다. 입력한 분류1과분류2를 받아 insert해준다.  
## 3. 게시물 관리 페이지  
이 페이지에서는 지금까지 등록된 게시물들을 보여준다.  
맨 아래에는 페이지 수가 있다. 페이지는 20개씩 출력된다.  
왼쪽에 있는 검색창을 이용해 기자의이름, 기사제목,기사내용을 검색할 수 있다.  
포함된 단어가 있으면 그 게시물만 출력된다.  
수정버튼을 누르면 해당 게시물의 내용이 모두 출력된다. 최종수정일과 코드는 수정될 수 없다.  
게시물에는 등록 완료와 등록 대기가 있는데 등록완료된 게시물만 홈 페이지에 게시된다.  
최종수정일은 게시물이 열릴때를 기준으로 저장된다.  
이 페이지에 쓰인 파일 중 main은 첫 번째로 나타나는 페이지이고 mod는 수정을 눌렀을 때 게시물 내용을 새로 받는 페이지이다.  
moddo는 새로 받은 페이지를 데이터에 update해준다. search는 검색버튼을 눌렀을 때 데이터에서 해당 단어가 포함된 내용이 들어있는 게시물을 출력해준다.  
del은 삭제를 눌렀을 때 해당 게시물을 데이터에서 삭제해준다. p2_1~p2_10까지 있는데 이 페이지들은 sql에서 limit을 사용해 20개의 페이지들만 출력할수있도록 해준다.  
메뉴 3에서 in은 게시물의 내용을 받고 sort2는 sort1이 선택되면 값을 받아 콤보박스로 출력된다. add는 내용을 받아 데이터에 추가시킨다.  
